<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Attraction Information ‚Äî TripWeaver Integration</title>

  <style>
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#111;background:#fff;line-height:1.5}
    img,svg{display:block;max-width:100%;height:auto}
    button,input,select,textarea{font:inherit}

    :root{
      --header-h:100px;
      --fg:#0f172a;--muted:#6b7280;--border:#e5e7eb;
      --surface:#f8fafc;--accent:#111827;--accent-2:#2563eb;
      --radius:16px;--shadow:0 8px 20px rgba(0,0,0,.08)
    }

    .page-wrap{padding-top:var(--header-h)}

    .container{max-width:1100px;margin-inline:auto;padding:20px}
    .chip{display:inline-block;border:1px solid var(--border);border-radius:999px;padding:.2rem .6rem;font-size:.85rem;color:#374151;background:#fff}
    .btn{display:inline-flex;align-items:center;gap:.5rem;border:1px solid var(--border);border-radius:999px;padding:.55rem 1rem;background:#fff;cursor:pointer}
    .btn.primary{background:var(--accent-2);color:#fff;border-color:transparent}

    .toolbar{display:grid;grid-template-columns:1fr auto auto;gap:10px;padding:12px 20px;border-top:1px solid var(--border)}
    .searchbar{display:flex;align-items:center;gap:8px;border:2px solid #111;border-radius:999px;padding:6px 10px;background:#fff}
    .searchbar input{flex:1;border:none;outline:none;padding:.45rem .2rem;min-width:0}
    .toolbar select{border:1px solid var(--border);border-radius:10px;padding:.5rem .6rem;background:#fff}

    .tabs{display:flex;gap:14px;align-items:center;padding:8px 20px;border-top:1px solid var(--border)}
    .tab{background:transparent;border:none;padding:.4rem .2rem;cursor:pointer;font-weight:700}
    .tab.active{color:#111;border-bottom:3px solid #111}

    #view-list{display:grid;gap:16px;padding:16px 20px}
    .list{display:grid;gap:16px}
    .row-item{display:grid;grid-template-columns:92px 1fr;gap:16px;align-items:center;border:1px solid var(--border);border-radius:12px;background:#fff;padding:12px}
    .thumb{width:92px;height:92px;display:grid;place-items:center;border:1px solid #ccc;border-radius:8px;background:#fff;overflow:hidden}
    .meta h3{margin:0 0 4px;font-size:1.15rem}
    .meta p{margin:0 0 6px;color:var(--muted);font-size:.95rem}
    .stars{color:#eab308}

    .history{display:none;gap:8px;flex-wrap:wrap;padding:8px 20px}
    .history.show{display:flex}

    #view-detail{display:none}
    .hero{aspect-ratio:16/9;object-fit:cover;border-bottom:1px solid var(--border)}
    .detail-body{padding:16px 20px;display:grid;gap:12px}
    .title-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .title-row h1{margin:0;font-size:clamp(1.2rem,2.4vw,2rem)}
    .rating{display:flex;align-items:center;gap:6px}
    .rating .stars{font-size:1.1rem}
    .loc{display:flex;align-items:center;gap:8px;color:#374151}
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;padding-top:4px}
    .feature{display:flex;align-items:center;gap:8px;border:1px solid var(--border);border-radius:12px;padding:8px 10px;background:#fff}
    .desc{color:#111}
    .cta-row{display:flex;gap:10px;align-items:center;border-top:1px solid var(--border);padding-top:12px}
    .pill{display:inline-flex;align-items:center;gap:6px;border:2px solid #111;border-radius:14px;padding:.4rem .7rem}
  </style>
</head>

<body>
  <div class="page-wrap">
    <div class="tabs" role="tablist" style="position:sticky;top:var(--header-h);background:#fff;z-index:500;border-bottom:1px solid var(--border)">
      <button class="tab active" data-tab="nearby" role="tab">Nearby</button>
      <button class="tab" data-tab="popular" role="tab">Most Popular</button>
      <button class="tab" id="btn-history" role="tab">Search History</button>
    </div>

    <div class="toolbar" role="region" aria-label="search and filters">
      <form id="search-form" class="searchbar" role="search">
        <input id="search-input" name="q" placeholder="Search..." autocomplete="off" />
        <button class="btn" type="submit">üîç</button>
      </form>
      <select id="cat" aria-label="Category">
        <option value="all">Category</option>
        <option value="museum">Museum</option>
        <option value="landmark">Landmark</option>
        <option value="science">Science</option>
      </select>
      <select id="opt" aria-label="Filter options">
        <option value="any">Filter Options</option>
        <option value="free">Free</option>
        <option value="paid">Paid</option>
        <option value="4up">Rating ‚â• 4</option>
      </select>
    </div>

    <div id="history" class="history" aria-label="search history"></div>

    <main class="container" id="main" role="main">
      <section id="view-list">
        <div class="list" id="list"></div>
      </section>

      <section id="view-detail">
        <img id="hero" class="hero" alt="cover" src="" />
        <div class="detail-body">
          <div class="title-row">
            <h1 id="d-title">Title</h1>
            <div class="rating"><span class="stars" id="d-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span><span id="d-score" class="chip">4.5/5</span></div>
          </div>
          <div class="loc">üìç <span id="d-city">City</span></div>
          <h2>Features</h2>
          <div class="features" id="d-features"></div>
          <h2>Description</h2>
          <p class="desc" id="d-desc"></p>
          <div class="cta-row">
            <span class="pill" id="d-price">$ Free</span>
            <button class="btn" id="btn-like" aria-pressed="false">‚ô° Like</button>
            <button class="btn primary" id="btn-plan">Plan Now</button>
            <button class="btn" id="btn-back">‚Üê Back</button>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <div class="container"><span>Draft 1 ‚Ä¢ INFO 340 ‚Ä¢ <span id="year"></span></span><span class="chip">No frameworks ¬∑ No plugins</span></div>
    </footer>
  </div>

  <script>
    const $ = (s, c = document) => c.querySelector(s);
    const $$ = (s, c = document) => Array.from(c.querySelectorAll(s));

    // ‚úÖ Use your local images
    const data = [
      {
        id: 1,
        name: "Hollywood Walk of Fame",
        city: "Los Angeles, California",
        category: "landmark",
        rating: 4.5,
        free: true,
        popular: true,
        nearby: true,
        img: "assets/images/hollywood.png",
        desc: "The Hollywood Walk of Fame features more than 2,700 brass stars embedded along Hollywood Boulevard and Vine Street, honoring notable figures in entertainment.",
        features: ["Wi-Fi", "Parking", "Bar", "Gym", "Food"]
      },
      {
        id: 2,
        name: "Griffith Observatory",
        city: "Los Angeles, California",
        category: "science",
        rating: 4.4,
        free: true,
        popular: true,
        nearby: false,
        img: "assets/images/griffith.png",
        desc: "A public observatory and planetarium on the southern slope of Mount Hollywood with city views.",
        features: ["Wi-Fi", "Parking", "Food"]
      },
      {
        id: 3,
        name: "The Getty Center",
        city: "Los Angeles, California",
        category: "museum",
        rating: 4.6,
        free: true,
        popular: true,
        nearby: false,
        img: "assets/images/getty.png",
        desc: "Museum with gardens and city views, known for art collections and architecture.",
        features: ["Parking", "Food"]
      }
    ];

    const historyTerms = [];
    let tab = "nearby";
    const starStr = n => "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ".slice(0, Math.round(n));

    function renderHistory() {
      const box = $("#history");
      box.innerHTML = historyTerms.map(t => `<button class="chip" data-term="${t}">${t}</button>`).join("");
    }

    function applyFilters(list) {
      const q = $("#search-input").value.trim().toLowerCase();
      const cat = $("#cat").value;
      const opt = $("#opt").value;
      let L = [...list];
      if (q) L = L.filter(x => x.name.toLowerCase().includes(q));
      if (cat !== "all") L = L.filter(x => x.category === cat);
      if (opt === "free") L = L.filter(x => x.free);
      if (opt === "paid") L = L.filter(x => !x.free);
      if (opt === "4up") L = L.filter(x => x.rating >= 4);
      if (tab === "nearby") L = L.filter(x => x.nearby);
      if (tab === "popular") L = L.filter(x => x.popular);
      return L;
    }

    function renderList() {
      const list = $("#list");
      const items = applyFilters(data);
      list.innerHTML = items.map(it => `
        <article class="row-item">
          <div class="thumb">
            <img src="${it.img}" alt="${it.name}" 
                 onerror="this.onerror=null;this.src='assets/images/hollywood.png';"
                 style="width:100%;height:100%;object-fit:cover;border-radius:6px"/>
          </div>
          <div class="meta">
            <h3><a href="#" data-open="${it.id}">${it.name}</a></h3>
            <p>${it.category.charAt(0).toUpperCase()+it.category.slice(1)} ‚Ä¢ ${it.city}</p>
            <div class="stars">${starStr(it.rating)}</div>
          </div>
        </article>`).join("");
    }

    const iconFor = n => ({"Wi-Fi":"üì∂","Parking":"üÖøÔ∏è","Bar":"üçπ","Gym":"üèãÔ∏è","Food":"üçî"}[n]||"‚úîÔ∏è");

    function openDetail(id) {
      const it = data.find(x => x.id === id);
      if (!it) return;
      $("#hero").src = it.img;
      $("#hero").onerror = function(){this.src='assets/images/hollywood.png';};
      $("#d-title").textContent = it.name;
      $("#d-stars").textContent = starStr(it.rating);
      $("#d-score").textContent = it.rating.toFixed(1) + "/5";
      $("#d-city").textContent = it.city;
      $("#d-desc").textContent = it.desc;
      $("#d-price").textContent = it.free ? "$ Free" : "$ Paid";
      $("#d-features").innerHTML = it.features.map(f => `<div class="feature">${iconFor(f)} <span>${f}</span></div>`).join("");
      $("#view-list").style.display = "none";
      $("#view-detail").style.display = "block";
      window.scrollTo(0, 0);
    }

    const backToList = () => {
      $("#view-detail").style.display = "none";
      $("#view-list").style.display = "grid";
    };

    $("#search-form").addEventListener("submit", e => {
      e.preventDefault();
      const term = $("#search-input").value.trim();
      if (term && !historyTerms.includes(term)) {
        historyTerms.unshift(term);
        if (historyTerms.length > 5) historyTerms.pop();
        renderHistory();
      }
      renderList();
    });

    $("#cat").addEventListener("change", renderList);
    $("#opt").addEventListener("change", renderList);

    document.addEventListener("click", e => {
      const a = e.target.closest("[data-open]");
      if (a) { e.preventDefault(); openDetail(parseInt(a.dataset.open, 10)); }
      const chip = e.target.closest("[data-term]");
      if (chip) { $("#search-input").value = chip.dataset.term; renderList(); }
      if (e.target.id === "btn-back") backToList();
      if (e.target.id === "btn-like") {
        const p = e.target.getAttribute("aria-pressed") === "true";
        e.target.setAttribute("aria-pressed", String(!p));
        e.target.textContent = p ? "‚ô° Like" : "‚ô• Liked";
      }
      if (e.target.id === "btn-history") $("#history").classList.toggle("show");
    });

    $$(".tab").forEach(t => t.addEventListener("click", () => {
      $$(".tab").forEach(x => x.classList.remove("active"));
      t.classList.add("active");
      tab = t.dataset.tab || "nearby";
      renderList();
    }));

    $("#year").textContent = new Date().getFullYear();
    renderHistory();
    renderList();
  </script>
</body>
</html>
